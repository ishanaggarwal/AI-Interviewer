<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Speech Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            text-align: center;
        }
        button {
            background: #f093fb;
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 18px;
            border-radius: 10px;
            cursor: pointer;
            margin: 10px;
        }
        button:hover {
            background: #e079e0;
        }
        #output {
            margin-top: 20px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
        }
    </style>
</head>
<body>
    <h1>Tony Stark Speech Test</h1>
    <button onclick="testSpeech()">Test Speech</button>
    <button onclick="tellJoke()">Tell Joke</button>
    <div id="output"></div>

    <script>
        const jokes = [
            "I am Iron Man. The suit and I are one. When you attack one, you attack the other... and that's just bad for your health.",
            "Sometimes you gotta run before you can walk. But mostly, you gotta have really cool tech.",
            "Genius, billionaire, playboy, philanthropist... and now AI assistant. I've really upgraded my resume."
        ];

        function log(message) {
            console.log(message);
            document.getElementById('output').innerHTML += '<p>' + message + '</p>';
        }

        function testSpeech() {
            log('ðŸ”Š Testing speech synthesis...');
            
            if (!window.speechSynthesis) {
                log('âŒ Speech synthesis not supported');
                return;
            }

            const utterance = new SpeechSynthesisUtterance('Hello, I am Tony Stark\'s AI assistant. Can you hear me?');
            utterance.rate = 0.9;
            utterance.pitch = 1.0;
            utterance.volume = 1.0;

            utterance.onstart = () => log('ðŸ—£ï¸ Speech started');
            utterance.onend = () => log('âœ… Speech completed');
            utterance.onerror = (e) => log('âŒ Speech error: ' + e.error);

            window.speechSynthesis.speak(utterance);
        }

        function tellJoke() {
            log('ðŸŽ­ Telling joke...');
            
            if (!window.speechSynthesis) {
                log('âŒ Speech synthesis not supported');
                return;
            }

            const joke = jokes[Math.floor(Math.random() * jokes.length)];
            log('ðŸ˜‚ Joke: ' + joke);

            const utterance = new SpeechSynthesisUtterance(joke);
            utterance.rate = 0.9;
            utterance.pitch = 1.0;
            utterance.volume = 1.0;

            utterance.onstart = () => log('ðŸ—£ï¸ Telling joke...');
            utterance.onend = () => log('âœ… Joke completed');
            utterance.onerror = (e) => log('âŒ Speech error: ' + e.error);

            window.speechSynthesis.speak(utterance);
        }

        // Initialize
        window.addEventListener('load', () => {
            log('ðŸš€ Speech test page loaded');
            log('Speech synthesis supported: ' + ('speechSynthesis' in window));
            
            if (window.speechSynthesis) {
                const voices = window.speechSynthesis.getVoices();
                log('Available voices: ' + voices.length);
                
                window.speechSynthesis.onvoiceschanged = () => {
                    const voices = window.speechSynthesis.getVoices();
                    log('Voices loaded: ' + voices.length);
                };
            }
        });
    </script>
</body>
</html>